(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5531],{33047:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(67294),i=n(66242),a=n(87357),s=n(67720),c=n(39648),l=n(4942),o=n(98396),u=n(58826),d=n(78462),h=n(70891),p=n(1048),x=n(32793),f=(n(45697),n(86010)),m=n(27192),j=n(59773),b=n(11496),g=n(33616),Z=n(28979);function v(e){return(0,Z.Z)("MuiListItemAvatar",e)}(0,n(76087).Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var y=n(85893);const w=["className"],C=(0,b.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((({ownerState:e})=>(0,x.Z)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8})));var O=r.forwardRef((function(e,t){const n=(0,g.Z)({props:e,name:"MuiListItemAvatar"}),{className:i}=n,a=(0,p.Z)(n,w),s=r.useContext(j.Z),c=(0,x.Z)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,m.Z)(r,v,n)})(c);return(0,y.jsx)(C,(0,x.Z)({className:(0,f.Z)(l.root,i),ownerState:c,ref:t},a))})),I=n(59334),k=n(25675),S=n(25617),P=n(40077),M=n(81472),N=n(80531),_=n(87757),R=n.n(_),D=n(9669),E=n.n(D),L=n(61259),T=function(){return function(){var e=(0,N.Z)(R().mark((function e(t){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E().get("/api/pages/data/chat/ChatData").then((function(e){t({type:L.br,chats:e.data}),console.log(chats)})).catch((function(e){return e}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(e,t){return{type:L.ol,id:e,chatMsg:t}},W=function(){var e=(0,S.I0)(),t=(0,S.v9)((function(e){return e.chatReducer.chatContent}));(0,r.useEffect)((function(){e(T())}),[e]);var n=(0,S.v9)((function(e){return function(e,t){return e?e.filter((function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())})):e}(e.chatReducer.chats,e.chatReducer.chatSearch)}));return(0,y.jsxs)("div",{children:[(0,y.jsx)(a.Z,{p:2,sx:{pt:"21px",pb:"21px"},children:(0,y.jsx)(M.Z,{id:"outlined-search",placeholder:"Search contacts",size:"small",type:"search",variant:"outlined",inputProps:{"aria-label":"Search Contacts"},fullWidth:!0,onChange:function(t){return e((n=t.target.value,{type:L.PE,searchTerm:n}));var n}})}),(0,y.jsx)(s.Z,{}),(0,y.jsx)(d.Z,{sx:{height:{lg:"calc(100vh - 365px)",sm:"100vh"},p:1},children:(0,y.jsx)(P.Z,{style:{height:"100%"},children:n.map((function(n){return(0,y.jsxs)(h.ZP,{button:!0,alignItems:"flex-start",onClick:function(){return e((t=n.id,{type:L.fG,id:t}));var t},selected:t===n.id,children:[(0,y.jsx)(O,{children:(0,y.jsx)(k.default,{src:n.thumb,alt:n.thumb,width:"45px",height:"45px",className:"roundedCircle"})}),(0,y.jsx)(I.Z,{primary:n.name,secondary:n.excerpt})]},n.id)}))})})]})},z=function(e){var t=e.isMobileSidebarOpen,n=e.onSidebarClose;return(0,o.Z)((function(e){return e.breakpoints.up("lg")}))?(0,y.jsx)(u.ZP,{sx:(0,l.Z)({width:240,flexShrink:0},"& .MuiDrawer-paper",{position:"relative"}),variant:"permanent",children:(0,y.jsx)(W,{})}):(0,y.jsx)(u.ZP,{open:t,onClose:n,variant:"temporary",sx:(0,l.Z)({zIndex:1},"& .MuiDrawer-paper",{paddingTop:"70px"}),children:(0,y.jsx)(W,{})})},A=n(15861),F=n(95062),G=function(e){var t=e.toggleChatSidebar,n=(0,S.v9)((function(e){return e.chatReducer.chats[e.chatReducer.chatContent-1]}));return(0,y.jsx)(a.Z,{children:n?(0,y.jsxs)("div",{children:[(0,y.jsxs)(a.Z,{display:"flex",alignItems:"center",p:2,sx:{pt:"8px",pb:"7px"},children:[(0,y.jsx)(a.Z,{sx:{display:{xs:"block",md:"block",lg:"none"},mr:"10px"},children:(0,y.jsx)(F.Z,{icon:"menu",width:"18",onClick:t})}),(0,y.jsxs)(h.ZP,{dense:!0,disableGutters:!0,children:[(0,y.jsx)(O,{children:(0,y.jsx)(k.default,{src:n.thumb,alt:n.thumb,width:"45px",height:"45px",className:"roundedCircle"})}),(0,y.jsx)(I.Z,{primary:(0,y.jsx)(A.Z,{variant:"h4",children:n.name}),secondary:n.status})]},n.id)]}),(0,y.jsx)(s.Z,{}),(0,y.jsx)(P.Z,{style:{height:"calc(100vh - 445px)"},children:(0,y.jsx)(a.Z,{p:2,children:Object.keys(n.chatHistory).map((function(e){return Object.keys(n.chatHistory[e]).map((function(t){return Object.keys(n.chatHistory[e][t]).map((function(r){return"from"===r?(0,y.jsxs)(a.Z,{display:"flex",alignItems:"start   ",flexDirection:"row",gap:1,children:[(0,y.jsx)(k.default,{src:n.thumb,alt:n.thumb,width:"45px",height:"45px",className:"roundedCircle"}),(0,y.jsx)("div",{className:"pl-3",children:n.chatHistory[e][t][r].map((function(e){return(0,y.jsx)(a.Z,{mb:1,sx:{p:2,backgroundColor:"primary.light",borderRadius:"6px",color:function(e){return"".concat((e.palette.mode,"rgba(0, 0, 0, 0.87)"))}},children:e},e)}))})]},r):(0,y.jsx)(a.Z,{children:n.chatHistory[e][t][r].map((function(e){return(0,y.jsx)(a.Z,{mb:1,display:"flex",alignItems:"flex-end",flexDirection:"row-reverse",className:"chat-content",children:(0,y.jsx)(a.Z,{sx:{p:2,backgroundColor:"primary.light",ml:"auto",borderRadius:"6px",color:function(e){return"".concat((e.palette.mode,"rgba(0, 0, 0, 0.87)"))}},children:e})},e)}))},r)}))}))}))})})]}):(0,y.jsxs)(a.Z,{display:"flex",alignItems:"center",p:2,pb:1,pt:1,children:[(0,y.jsx)(a.Z,{sx:{display:{xs:"flex",md:"flex",lg:"none"},mr:"10px"},children:(0,y.jsx)(F.Z,{icon:"menu",width:"18",onClick:t})}),(0,y.jsx)(A.Z,{varient:"h4",children:"Select Chat"})]})})},X=n(93946),q=function(){var e=(0,r.useState)(""),t=e[0],n=e[1],i=(0,S.I0)(),s=(0,S.v9)((function(e){return e.chatReducer.chatContent}));return(0,y.jsx)(a.Z,{p:2,children:(0,y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),i(H(s,t)),n("")}.bind(),style:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(M.Z,{id:"msg-sent",fullWidth:!0,value:t,placeholder:"Type a Message",size:"small",type:"text",variant:"outlined",inputProps:{"aria-label":"Type a Message"},onChange:function(e){n(e.target.value)}.bind(null)}),(0,y.jsx)(X.Z,{"aria-label":"delete",color:"primary",onClick:function(){i(H(s,t)),n("")},disabled:!t,children:(0,y.jsx)(F.Z,{icon:"send",width:"18"})})]})})},B=function(){var e=(0,r.useState)(!0),t=e[0],n=e[1];return(0,y.jsxs)("div",{children:[(0,y.jsx)(c.Z,{title:"Chat app",subtitle:"Messenger"}),(0,y.jsxs)(i.Z,{sx:{display:"flex",p:0},children:[(0,y.jsx)(z,{isMobileSidebarOpen:t,onSidebarClose:function(){return n(!1)}}),(0,y.jsxs)(a.Z,{flexGrow:1,children:[(0,y.jsx)(G,{toggleChatSidebar:function(){return n(!0)}}),(0,y.jsx)(s.Z,{}),(0,y.jsx)(q,{})]})]})]})}},81472:function(e,t,n){"use strict";var r=n(4942),i=(n(67294),n(11496)),a=n(98271),s=n(85893);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=(0,i.ZP)((function(e){return(0,s.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}))((function(e){var t=e.theme;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:"#767e89",opacity:"1"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"".concat("dark"===t.palette.mode?"rgba(255, 255, 255, 0.12)":"#dee3e9")},"& .MuiOutlinedInput-input.Mui-disabled":{backgroundColor:"".concat("dark"===t.palette.mode?"rgba(0, 0, 0, 0.12) ":"#f8f9fb ")},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:"#767e89",opacity:"1"}}}));t.Z=l},39648:function(e,t,n){"use strict";n(67294);var r=n(86886),i=n(15861),a=n(12963),s=n(50122),c=n(87357),l=n(41664),o=n(37958),u=n(85893);t.Z=function(e){var t=e.subtitle,n=e.items,d=e.title,h=e.children;return(0,u.jsxs)(r.ZP,{container:!0,sx:{p:"15px"},children:[(0,u.jsxs)(r.ZP,{item:!0,xs:12,sm:6,lg:8,children:[(0,u.jsx)(i.Z,{color:"textSecondary",fontWeight:"400",variant:"h4",children:t}),(0,u.jsx)(a.Z,{separator:(0,u.jsx)(o.Z,{fontSize:"small"}),"aria-label":"breadcrumb",children:n?n.map((function(e){return(0,u.jsx)("div",{children:e.to?(0,u.jsx)(l.default,{component:s.Z,underline:"none",color:"inherit",href:e.to,children:e.title}):(0,u.jsx)(i.Z,{color:"textPrimary",children:e.title})},e.title)})):""}),(0,u.jsx)(i.Z,{fontWeight:"700",variant:"h1",sx:{lineHeight:"1.235"},children:d})]}),(0,u.jsx)(r.ZP,{item:!0,xs:12,sm:6,lg:4,display:"flex",alignItems:"flex-end",children:(0,u.jsx)(c.Z,{sx:{display:{xs:"none",md:"block",lg:"flex"},alignItems:"center",justifyContent:"flex-end",width:"100%"},children:h})})]})}},78706:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apps/chats",function(){return n(33047)}])}},function(e){e.O(0,[8360,8271,5994,9774,2888,179],(function(){return t=78706,e(e.s=t);var t}));var t=e.O();_N_E=t}]);